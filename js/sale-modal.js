function checkCookieExists(cookieName){const cookies=document.cookie;return cookies.indexOf(cookieName+"=")!==-1}
var cookieRegistry=[];function listenCookieChange(cookieName,callback){setInterval(function(){if(cookieRegistry[cookieName]){if(getCookie(cookieName)!=cookieRegistry[cookieName]){cookieRegistry[cookieName]=getCookie(cookieName);return callback()}}else{cookieRegistry[cookieName]=getCookie(cookieName)}},100)}
$(document).ready(function(){var active=!1;if($(window).width()>800&&active){init();clearInterval(idleInterval);var showSiteIdleModal=getCookie('showSiteIdleModal');listenCookieChange('showSiteIdleModal',function(){showSiteIdleModal=getCookie('showSiteIdleModal')});if(showSiteIdleModal){activeIdleRegion=regionChecker();if(activeIdleRegion){idleInterval=setInterval(timerIncrement,1000);$(document).on("mousemove",resetIdleTime).on("click",resetIdleTime).on("keydown",resetIdleTime).on("scroll",resetIdleTime)}}
function init(){if(!checkCookieExists('showSiteIdleModal')){setCookie('showSiteIdleModal',!0,1)}
idleTime=0;idleTimeout=10000;idleInterval="";var modalContent='<h2 class="headline"><span style="font-style:italic;">Get cool discounts</span><br><br>Includes Professional Install<br><span class="sweetner" style="font-size: 2rem;"></span></h2><h4 class="promo">CODE: <span style="text-transform:uppercase;padding:5px;background-color:#c4c4c44a;">SUMMERSALE</span></h2><div class="cta" style="padding:20px;"><a href="/shop/build-a-plan/" class="btn btn-primary" style="font-weight:700;background-color:#C8E02A;color:#040825;text-transform:uppercase;border-color:transparent;text-decoration:none;font-size:1rem;display:inline-block;text-align:center;vertical-align:middle;padding:10px 15px;"><span>Shop Plans</span></a></div><small class="promo_exp"></small>';var modal='<a id="openModal"></a><div id="flashModal" class="modal" style="display:none;position:fixed;z-index 9999;padding-top:100px;left:0px;top:0px;width:100%;height:100%;overflow:auto;background-color:rgba(0, 0, 0, 0.4);"><div class="modal-content" style="background:linear-gradient(45deg, #483092 7%, #009C86 63%, #3AB54A 80%, #C8E029 100%);margin:auto;padding:20px;border:1px solid #888;width:740px;text-align:center;color:#fff;"><span class="close" style="color:#fff;text-align:right;font-size:28px;font-weight:bold;">Ã—</span>'+modalContent+'</div></div>';$('head').append('<style>.modal-content .close:hover, .modal-content .close:focus{color:#000;text-decoration:none;cursor:pointer;} .modal-content h2{color:#fff;font-size:2rem;} .modal-content h2 span{font-size:3rem;text-transform:capitalize;} .promo{margin:20px 0;color:#fff;font-size:1.5rem;}</style>');$('body').append(modal);$('#openModal').on('click',function(){$('#flashModal').show();dataLayer.push({'event':'view_popup_modal','popup_coupon':$('.promo span').text(),'popup_trigger':'idle'})});$('.modal-content .close').on('click',function(){$('#flashModal').hide();dataLayer.push({'event':'close_popup_modal','popup_coupon':$('.promo span').text(),'popup_trigger':'idle'})});$('.btnShopPlans').on('click',function(){dataLayer.push({'event':'popup_click','popup_coupon':$('.promo span').text()})})}
function regionChecker(){var page=window.location.href;switch(!0){case(page.indexOf('/texas/')>-1):case(page.indexOf('/houston/')>-1):case(page.indexOf('/brownwood/')>-1):case(page.indexOf('/sacremento/')>-1):case(page.indexOf('/bay-area/')>-1):case(page.indexOf('/central-coast/')>-1):case(page.indexOf('/oregon/')>-1):case(page.indexOf('/washington/')>-1):case(page.indexOf('/maryland/')>-1):case(page.indexOf('/new-york/')>-1):bActive=!0;$('.headline .sweetner').text('and a $100 Gift Card!');$('.promo_exp span').text('7/14/2025');break;case(page.indexOf('/dc-metro/')>-1):case(page.indexOf('/boston/')>-1):case(page.indexOf('/chicago/')>-1):case(page.indexOf('/evansville/')>-1):case(page.indexOf('/lehigh-valley/')>-1):case(page.indexOf('/philadelphia/')>-1):bActive=!0;$('.headline .sweetner').text('and one month free!');$('.promo_exp span').text('7/14/2025');break;default:bActive=!0}
return bActive}
function timerIncrement(){idleTime=idleTime+1;showSiteIdleModal=getCookie('showSiteIdleModal');if(showSiteIdleModal&&(idleTime>=idleTimeout/1000)){$("#openModal").trigger("click");setCookie('showSiteIdleModal',!1,1);clearInterval(idleInterval)}}
function resetIdleTime(){idleTime=0}}})